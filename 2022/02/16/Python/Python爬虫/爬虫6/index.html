<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>数据解析 | 沅浅</title><meta name="keywords" content="python,爬虫,Anaconda"><meta name="author" content="沅浅"><meta name="copyright" content="沅浅"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="了解网页数据和结构对于服务器端来说，它返回给客户端的数据格式可分为非结构化和结构化两种。 非结构化数据 非结构化数据是指数据结构不规则或不完整，没有预定义的数据模型，不方便使用数据库二维逻辑来表现的数据，包括所有格式的办公文档、文本、图像等。 结构化数据 结构化数据就是能够用数据或统一的结构加以表示，具有模式的数据，包括HTML、XML和SON等。 查看网页结构使用GoogleChrome浏览器打">
<meta property="og:type" content="article">
<meta property="og:title" content="数据解析">
<meta property="og:url" content="http://yqloveljw.xyz/2022/02/16/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB6/index.html">
<meta property="og:site_name" content="沅浅">
<meta property="og:description" content="了解网页数据和结构对于服务器端来说，它返回给客户端的数据格式可分为非结构化和结构化两种。 非结构化数据 非结构化数据是指数据结构不规则或不完整，没有预定义的数据模型，不方便使用数据库二维逻辑来表现的数据，包括所有格式的办公文档、文本、图像等。 结构化数据 结构化数据就是能够用数据或统一的结构加以表示，具有模式的数据，包括HTML、XML和SON等。 查看网页结构使用GoogleChrome浏览器打">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg">
<meta property="article:published_time" content="2022-02-16T06:33:34.000Z">
<meta property="article:modified_time" content="2022-03-31T11:33:25.493Z">
<meta property="article:author" content="沅浅">
<meta property="article:tag" content="python">
<meta property="article:tag" content="爬虫">
<meta property="article:tag" content="Anaconda">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg"><link rel="shortcut icon" href="/img/yq.jpg"><link rel="canonical" href="http://yqloveljw.xyz/2022/02/16/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB6/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":50,"position":"top","messagePrev":"这是","messageNext":"天以前的文章了，对于现在来说可能并不适用，希望其中的思路可以对你产生帮助。"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '数据解析',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-03-31 19:33:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="沅浅" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s1.ax1x.com/2022/05/06/OKEjD1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">74</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">21</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s4.ax1x.com/2022/02/16/Hf2gxJ.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">沅浅</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 菜单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友联</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">数据解析</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-02-16T06:33:34.000Z" title="发表于 2022-02-16 14:33:34">2022-02-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-31T11:33:25.493Z" title="更新于 2022-03-31 19:33:25">2022-03-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/python%E7%88%AC%E8%99%AB%E6%8A%80%E6%9C%AF/">python爬虫技术</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="数据解析"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="了解网页数据和结构"><a href="#了解网页数据和结构" class="headerlink" title="了解网页数据和结构"></a>了解网页数据和结构</h1><p>对于服务器端来说，它返回给客户端的数据格式可分为非结构化和结构化两种。</p>
<p><strong>非结构化数据</strong></p>
<p>非结构化数据是指数据结构不规则或不完整，没有预定义的数据模型，不方便使用数据库二维逻辑来表现的数据，包括所有格式的办公文档、文本、图像等。</p>
<p><strong>结构化数据</strong></p>
<p>结构化数据就是能够用数据或统一的结构加以表示，具有模式的数据，包括HTML、XML和SON等。</p>
<h2 id="查看网页结构"><a href="#查看网页结构" class="headerlink" title="查看网页结构"></a>查看网页结构</h2><p>使用GoogleChrome浏览器打开百度首页，在“新闻”选项上面右击选择“检查”，浏览器底部打开一个窗口，并显示选中元素周围的HTML层次结构。</p>
<h1 id="数据解析技术"><a href="#数据解析技术" class="headerlink" title="数据解析技术"></a>数据解析技术</h1><p>了解了网页的数据和结构以后，我们可以借助网页解析器（用于解析网页的工具）从网页中解析和提取出有价值的数据，或者是新的URL列表。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[网页源码字符串] --&gt;B(网页解释器)</span><br><span class="line">    B --&gt; D[价值数据]</span><br><span class="line">    B --&gt; E[新URL列表]</span><br></pre></td></tr></table></figure>

<p>Python支持一些解析网页的技术，分别为正则表达式、XPath、Beautiful Soup和 JSONPath。</p>
<blockquote>
<p>针对文本的解析，有正则表达式；</p>
<p>针对HTML/XML的解析，有XPath、BeautifulSoup、正则表达式；</p>
<p>针对JSON的解析，有JSONPath。</p>
</blockquote>
<p>正则表达式是基于文本的特征来匹配或查找指定的数据，它可以处理任何格式的字符串文档，类似于模糊匹配的效果。</p>
<p>XPath和BeautifulSoup基于HTML/XML文档的层次结构来确定到达指定节点的路径，所以它们更适合处理层级比较明显的数据。</p>
<p>JSONPath专门用于JSON文档的数据解析。</p>
<p>针对不同的网页解析技术，Python分别提供了不同的模块或者库来支持</p>
<table>
<thead>
<tr>
<th>正则表达式</th>
<th>XPath</th>
<th>JSONPath</th>
<th>Beautiful Soup</th>
</tr>
</thead>
<tbody><tr>
<td>re模块</td>
<td>l xm l 库</td>
<td>json模块</td>
<td>Python库</td>
</tr>
</tbody></table>
<p>接下来，通过一张表来比较一下re、lxml和beautifulsoup4的性能。</p>
<table>
<thead>
<tr>
<th>抓取工具</th>
<th>速度</th>
<th>使用难度</th>
<th>安装难度</th>
</tr>
</thead>
<tbody><tr>
<td>re</td>
<td>最快</td>
<td>困难</td>
<td>无（内置）</td>
</tr>
<tr>
<td>lxml</td>
<td>快</td>
<td>简单</td>
<td>一般</td>
</tr>
<tr>
<td>beautifulsoup4</td>
<td>慢</td>
<td>最简单</td>
<td>简单</td>
</tr>
</tbody></table>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><p>正则表达式是基于文本的特征来匹配或查找指定的数据，它可以处理任何格式的字符串文档，类似于模糊匹配的效果。</p>
<p><strong>re模块的一般使用步骤如下：</strong></p>
<ol>
<li>使用compile（）函数将正则表达式以字符串形式编译为一个Pattern类型的对象。</li>
<li>通过Pattern对象提供的一系列方法对文本进行匹配查找，得到一个表示匹配结果的Match对象。</li>
<li>使用Match对象提供的属性和方法获得信息，如匹配到的字符串。</li>
</ol>
<p>大多数情况下，从网站上爬取下来的网页源代码中都有汉字，如果要匹配这些汉字，就需要知道其对应的正则表达式。通常情况下，中文对应的Unicode编码范围为<code>[u4e00-u9fa5]</code>，但是大多数情况下是可以使用的个范围并不是很完整，例如，没有包括全角（中文）标点，但是大多数情况是可以使用的。</p>
<p>例如，把“你好，helo，世界”中的汉字提取出来，可以通过如下代码实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import re   #待匹配的字符串   title=&quot;你好，hello，世界&quot;</span><br><span class="line">#创建正式表达，用于只匹配中文</span><br><span class="line">Pattern=re.compile(r*[\u4e00-lu9fa5]+&quot;)</span><br><span class="line">#检索整个字符串，将匹配的中文放到列表中</span><br><span class="line">result=pattern.findall(title)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<h1 id="Xpath"><a href="#Xpath" class="headerlink" title="Xpath"></a>Xpath</h1><p><strong>XPath和Beautiful Soup</strong><br>XPath和BeautifulSoup基于HTML/XML文档的层次结构来确定到达指定节点的路径，所以它们更适合处理层级比较明显的数据。</p>
<p><strong>什么是XPath</strong><br>我们借用网上一个很形象的比喻，用于区分正则表达式和XPath。</p>
<p>把提取数据比作找建筑。如果使用正则表达式进行查找，则它会告诉你这个建筑本身有哪些特征，以及它的左边是什么，右边是什么。这样的描述限定查找的范围较大，不易于找到。而XPath会直接告诉你这个建筑位于“中国-北京-昌平区-建材城西路一金燕龙办公楼一层”，相比较而言，这种描述更加具体，易于找到。</p>
<blockquote>
<p>XPath即为XML路径语言，用于确定XML树结构中某一部分的位置。XPath技术基于XML的树结构，能够在树结构中遍历节点（元素、属性等）。</p>
<p>XPath使用路径表达式选取XML文档中的节点或者节点集，这些路径表达式代表着从一个节点到另一个或者一组节点的顺序，并以“/”字符进行分隔。</p>
</blockquote>
<h1 id="lxml"><a href="#lxml" class="headerlink" title="lxml"></a>lxml</h1><p><strong>什么是lxml库</strong><br>lxml是以Python语言编写的库，主要用于解析和提取HTML或者XML格式的数据，可以利用XPath语法快速地定位特定的元素或节点。</p>
<p>lxmI库中大部分的功能都位于lxml.etree模块中，导入lxml.etree模块的常见方式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[from lxml import etree]</span><br></pre></td></tr></table></figure>

<p>lxml库的一些相关类如下：</p>
<table>
<thead>
<tr>
<th>类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Element</td>
<td>可以理解为XML的节点</td>
</tr>
<tr>
<td>ElementTree</td>
<td>可以理解为一个完整的XML文档树</td>
</tr>
<tr>
<td>ElementPath</td>
<td>可以理解为XPath，用于搜索和定位节点</td>
</tr>
</tbody></table>
<p>Element类是XML处理的核心类，它可以理解为XML的节点，大部分XML节点的操作都是围绕着该类进行的。</p>
<p>关于Element类的相关操作，主要可分为三部分，分别是节点操作、节点属性的操作、节点内文本的操作，下面进行逐一介绍。</p>
<ol>
<li>节点操作：若要获取节点的名称，可以通过tag属性获取。</li>
<li>节点属性的操作：在创建节点的同时，可以为节点增加属性。节点中的属性是以key-value的形式进行存储的，类似于字典的存储方式。通过构造方法创建节点时，可以在该方法中以参数的形式设置属性，其中参数的名称表示属性的名称，参数的值表示为属性的值。<ol>
<li>此外，可以通过set()方法给已有的节点添加属性。在调用该方法时可以传人两个参数，其中第一个参数表示属性的名称，第二个参数表示属性的值。</li>
<li>在上述两个示例中，都用到了tostringO函数，该函数可以将元索序列化为XML树的编码字符串表示形式</li>
</ol>
</li>
<li>节点内文本的操作：一般情况下，可以通过text、tail属性或者xpath()方法来访向文本内容。</li>
</ol>
<p>从字符串或文件中解析XML<br>为了能够将XML文件解析为树结构，etree模块中提供了如下3个函数：</p>
<p>（1）formstring()函数：从字符串中解析XML文档或片段，返回根节点（或解析器目标运回的结果）。<br>（2）XMLO函数：从字符串常量中解析XML文档或片段，返回根节点（或解析器目标返回的结果）<br>（3）HTML()函数：从字符串常量中解析HTML文档或片段，返回根节点（或解析器目标返回的结果其中，XML()函数的行为类似于fromstring()函数，通常用于将XML字面量直接写人到源代码中；HTML()函数可以自动补全缺少的<html>和<body>标签。</p>
<h1 id="BeautifulSoup"><a href="#BeautifulSoup" class="headerlink" title="BeautifulSoup"></a>BeautifulSoup</h1><p><strong>什么是Beautiful Soup</strong><br>使用lxml库时需要编写和测试XPath语句，显然降低了开发效率。除了Ixml库之外，还可以使用Beautiful Soup来提取HTML/XML数据。虽然这两个库的功能相似，但是Beautiful Soup使用起来更加简洁方便，受到开发人员的推崇。</p>
<p>官网推荐现在的项目使用Beautiful Soup（Beautiful Soup 4版本，简称为bs4）开发。bs4是一个HTML/XML的解析器，主要的功能是解析和提取HTML/XML数据。</p>
<p>bs4不仅支持CSS选择器，而且支持Python标准库中的HTML解析器，以及lxml的XML解析器。</p>
<p>通过使用这些转化器，实现了惯用的文档导航和查找方式，节省了大量的工作时间，提高了开发项目的效率。</p>
<p>bs4库将复杂的HTML文档转换成树结构（HTMLDOM），这个结构中的每个节点都是一个Python对象，这些对象可以归纳为如下四种：</p>
<table>
<thead>
<tr>
<th>类</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bs4.element.Tag</td>
<td>表示HTML中的标签，最基本的信息组织单元</td>
</tr>
<tr>
<td>bs4.element.NavigableString</td>
<td>表示HTML中标签的文本（非属性字符串）</td>
</tr>
<tr>
<td>bs4.BeautifulSoup</td>
<td>表示HTML，DOM中的全部内容，支持遍历文本档树和搜索文档树的大部分方法</td>
</tr>
<tr>
<td>bs4.element.Comment</td>
<td>表示标签内字符串的注释部分，是一种特殊的NavigableString对象。</td>
</tr>
</tbody></table>
<p>使用bs4的一般流程如下：</p>
<p>第一步：</p>
<p>根据HTML或者XML文件创建BeautifulSoup对象。</p>
<p>第二步：</p>
<p>根据DOM树进行各种节点的搜索，只要获得了一个节点，就可以访问节点的名称、属性和文本。</p>
<p>第三步：</p>
<p>在搜索节点的时候，我们也可以按照节点的名称、节点的属性或者节点的文字进行搜索。</p>
<p>（1）markup:表示要解析的文档字符串或文件对象。<br>（2）features:表示解析器的名称。<br>（3）builder:表示指定的解析器。<br>（4）from_encoding:表示指定的编码格式。<br>（5）exclude_encodings:表示排除的编码格式。<br>例如，根据字符串html_doc创建个Beautifulsoup对象</p>
<h1 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h1><p><strong>什么是JSON</strong><br>JSON（javaScript Object Notation）是种轻量级的数据交换格式，可使人们很容易地进行阅读和编写，同时也方便于机器进行解析和生成。ISON适用于进行数据交互的场景，如网站前台与后台之间的数据交互。JSONPath是种信息抽取类库，用于以JSON文档中抽取指定信息。本节将带领读者认识ISON，并介绍如何使用JSONPath和json模块解析JSON文档</p>
<p>JSON是比XML更简单的一种数据交换格式，它采用完全独立于编程语言的文本格式来存储和表示数据。</p>
<blockquote>
<p>使用键值对  (key：value)  表示对象<br>使用逗号    (  ,  )    分隔多条数据<br>使用花括号  { }  包含对象<br>使用方括号  [ ]  表示数组</p>
</blockquote>
<p><strong>JSON键/值对</strong><br>格式是：字段名称（包含在双引号中），后面加一个冒号，然后是值。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;name&quot;:&quot;XiaoHong&quot;</span><br></pre></td></tr></table></figure>

<p><strong>JSON的值</strong><br>数字（整数或浮点数）</p>
<p>字符串（在双引号中）</p>
<p>逻辑值（true或false）</p>
<p>数组（在方括号中）</p>
<p>对象（在花括号中）</p>
<p>null</p>
<p><strong>JSON对象</strong><br>对象在JavaScript中表示为花括号 { } 括起来的内容，数据结构为{key：value，key：value，，} 的键值对的结构。</p>
<p><strong>JSON数组</strong><br>数组在JavaSeript中是中括号[]括起来的内容，数据结构为[字段1，字段2，字段3，]，其中字段值的类型可以是数字、字符串、数组、对象几种。</p>
<h2 id="JSON与XML"><a href="#JSON与XML" class="headerlink" title="JSON与XML"></a>JSON与XML</h2><p>JSON和XML都是文本格式语言，它们经常用于数据交换和网络传输，那么它们有什么区别？接下来，从以下几个方面进行比较。</p>
<p>1.可扩展性<br>JSON和XML都有很好的扩展性，但ISON与JavaScript语言的结合更紧密，在javaScript语言中便用ISON可谓是无缝连接。</p>
<p>2.可读性<br>JSON和XML的可读性不相上下，一个是简洁的语法，一个是规范的标签形式，很难分出优劣。</p>
<p>3.编码难度<br>XML出现的时间比JSON早，能够处理XML语言的编码工具很丰富；但JSON语言出现之后发展迅速，现在也具有了与XML相婉美的处理工具。在不使用工具的情况下，熟练的开发人员同样能够轻松写出想要的XML文档和JSON文档，但XML文档需要的字符量更多。</p>
<p>4.解码难度<br>JSON和XML都是可扩展性的结构，如果不知道文档结构，解析文档则非常不方便。所以，最好在知道文档结构的情况下进行解析。其实，在开发过程中，只要看到文档的字符串，就可以明白它的结构。</p>
<p>5.有效数据率<br>由于省却了大量的标签，JSON的有效数据率比XML高得多。这里使用一个实例进行比较，用XML表示中国部分省市的信息。</p>
<p>由XML和JSON的对比可知，JSON的语法格式简单，层次结构清晰，比XML更易于阅读。并且，由于它占用的字符量少，用于网络数据传输时，能节约带宽，提高传输效率。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://yqloveljw.xyz">沅浅</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yqloveljw.xyz/2022/02/16/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB6/">http://yqloveljw.xyz/2022/02/16/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yqloveljw.xyz" target="_blank">沅浅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/%E7%88%AC%E8%99%AB/">爬虫</a><a class="post-meta__tags" href="/tags/Anaconda/">Anaconda</a></div><div class="post_share"><div class="social-share" data-image="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/17/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB7/"><img class="prev-cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">存储过程与触发器</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/14/%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E5%B1%B1%E9%B8%A1/1.%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E4%B9%8BMBR/"><img class="next-cover" src="https://s4.ax1x.com/2022/02/14/HyLKxg.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">数据恢复之MBR</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/09/02/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB1/" title="Anaconda介绍、安装及使用教程"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-02</div><div class="title">Anaconda介绍、安装及使用教程</div></div></a></div><div><a href="/2022/02/17/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB10/" title="数据存储"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-17</div><div class="title">数据存储</div></div></a></div><div><a href="/2021/09/10/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB2/" title="初识爬虫"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-10</div><div class="title">初识爬虫</div></div></a></div><div><a href="/2021/09/10/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB3/" title="爬虫的实现原理和技术"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-10</div><div class="title">爬虫的实现原理和技术</div></div></a></div><div><a href="/2021/09/17/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB4/" title="网络请求原理"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-17</div><div class="title">网络请求原理</div></div></a></div><div><a href="/2021/09/18/Python/Python%E7%88%AC%E8%99%AB/%E7%88%AC%E8%99%AB5/" title="爬取网页数据"><img class="cover" src="https://s4.ax1x.com/2022/02/15/H2OSYR.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-18</div><div class="title">爬取网页数据</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s1.ax1x.com/2022/05/06/OKEjD1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">沅浅</div><div class="author-info__description">我想记下来很多东西，我太怕我会忘记</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">74</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">21</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="/s" target="_blank" title=""><i></i></a><a class="social-icon" href="/e" target="_blank" title=""><i class="1"></i></a><a class="social-icon" href="/e" target="_blank" title=""><i class="2"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="3"></i></a><a class="social-icon" href="/h" target="_blank" title=""><i class="4"></i></a><a class="social-icon" href="/t" target="_blank" title=""><i class="5"></i></a><a class="social-icon" href="/t" target="_blank" title=""><i class="6"></i></a><a class="social-icon" href="/p" target="_blank" title=""><i class="7"></i></a><a class="social-icon" href="/s" target="_blank" title=""><i class="8"></i></a><a class="social-icon" href="/:" target="_blank" title=""><i class="9"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="10"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="11"></i></a><a class="social-icon" href="/b" target="_blank" title=""><i class="12"></i></a><a class="social-icon" href="/u" target="_blank" title=""><i class="13"></i></a><a class="social-icon" href="/t" target="_blank" title=""><i class="14"></i></a><a class="social-icon" href="/t" target="_blank" title=""><i class="15"></i></a><a class="social-icon" href="/e" target="_blank" title=""><i class="16"></i></a><a class="social-icon" href="/r" target="_blank" title=""><i class="17"></i></a><a class="social-icon" href="/f" target="_blank" title=""><i class="18"></i></a><a class="social-icon" href="/l" target="_blank" title=""><i class="19"></i></a><a class="social-icon" href="/y" target="_blank" title=""><i class="20"></i></a><a class="social-icon" href="/." target="_blank" title=""><i class="21"></i></a><a class="social-icon" href="/j" target="_blank" title=""><i class="22"></i></a><a class="social-icon" href="/s" target="_blank" title=""><i class="23"></i></a><a class="social-icon" href="/." target="_blank" title=""><i class="24"></i></a><a class="social-icon" href="/o" target="_blank" title=""><i class="25"></i></a><a class="social-icon" href="/r" target="_blank" title=""><i class="26"></i></a><a class="social-icon" href="/g" target="_blank" title=""><i class="27"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="28"></i></a><a class="social-icon" href="/p" target="_blank" title=""><i class="29"></i></a><a class="social-icon" href="/o" target="_blank" title=""><i class="30"></i></a><a class="social-icon" href="/s" target="_blank" title=""><i class="31"></i></a><a class="social-icon" href="/t" target="_blank" title=""><i class="32"></i></a><a class="social-icon" href="/s" target="_blank" title=""><i class="33"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="34"></i></a><a class="social-icon" href="/c" target="_blank" title=""><i class="35"></i></a><a class="social-icon" href="/e" target="_blank" title=""><i class="36"></i></a><a class="social-icon" href="/e" target="_blank" title=""><i class="37"></i></a><a class="social-icon" href="/b" target="_blank" title=""><i class="38"></i></a><a class="social-icon" href="/7" target="_blank" title=""><i class="39"></i></a><a class="social-icon" href="/3" target="_blank" title=""><i class="40"></i></a><a class="social-icon" href="/f" target="_blank" title=""><i class="41"></i></a><a class="social-icon" href="/" target="_blank" title=""><i class="42"></i></a><a class="social-icon" href="#" target="_blank" title=""><i class="43"></i></a><a class="social-icon" href="/%E6%90%9C" target="_blank" title=""><i class="44"></i></a><a class="social-icon" href="/%E7%B4%A2" target="_blank" title=""><i class="45"></i></a><a class="social-icon" href="/%E7%B3%BB" target="_blank" title=""><i class="46"></i></a><a class="social-icon" href="/%E7%B5%B1" target="_blank" title=""><i class="47"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E7%BD%91%E9%A1%B5%E6%95%B0%E6%8D%AE%E5%92%8C%E7%BB%93%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">了解网页数据和结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E9%A1%B5%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">查看网页结构</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E6%8A%80%E6%9C%AF"><span class="toc-number">2.</span> <span class="toc-text">数据解析技术</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">正则表达式</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Xpath"><span class="toc-number">4.</span> <span class="toc-text">Xpath</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#lxml"><span class="toc-number">5.</span> <span class="toc-text">lxml</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BeautifulSoup"><span class="toc-number">6.</span> <span class="toc-text">BeautifulSoup</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Json"><span class="toc-number">7.</span> <span class="toc-text">Json</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#JSON%E4%B8%8EXML"><span class="toc-number">7.1.</span> <span class="toc-text">JSON与XML</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/27/%E6%96%87%E7%AB%A0/" title="文章"><img src="/transparent" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="文章"/></a><div class="content"><a class="title" href="/2022/06/27/%E6%96%87%E7%AB%A0/" title="文章">文章</a><time datetime="2022-06-27T09:29:00.000Z" title="发表于 2022-06-27 17:29:00">2022-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/13/hexo%E7%BE%8E%E5%8C%96/hexo%E6%B7%BB%E5%8A%A0%E5%BE%BD%E6%A0%87/" title="hexo添加徽标"><img src="https://s4.ax1x.com/2022/01/02/Toe4Qx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo添加徽标"/></a><div class="content"><a class="title" href="/2022/03/13/hexo%E7%BE%8E%E5%8C%96/hexo%E6%B7%BB%E5%8A%A0%E5%BE%BD%E6%A0%87/" title="hexo添加徽标">hexo添加徽标</a><time datetime="2022-03-13T08:58:50.000Z" title="发表于 2022-03-13 16:58:50">2022-03-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/08/%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E5%B1%B1%E9%B8%A1/R-studio%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="R-studio数据恢复软件使用教程"><img src="https://s1.ax1x.com/2022/03/08/bcnVfg.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="R-studio数据恢复软件使用教程"/></a><div class="content"><a class="title" href="/2022/03/08/%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E5%B1%B1%E9%B8%A1/R-studio%E6%95%B0%E6%8D%AE%E6%81%A2%E5%A4%8D%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="R-studio数据恢复软件使用教程">R-studio数据恢复软件使用教程</a><time datetime="2022-03-08T02:18:17.000Z" title="发表于 2022-03-08 10:18:17">2022-03-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/07/hexo%E7%BE%8E%E5%8C%96/hexo%E5%A2%9E%E5%8A%A0%E5%B0%8F%E5%AE%A2%E6%9C%8D%E5%8A%9F%E8%83%BD/" title="hexo增加小客服功能"><img src="https://s4.ax1x.com/2022/01/02/Toe4Qx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo增加小客服功能"/></a><div class="content"><a class="title" href="/2022/03/07/hexo%E7%BE%8E%E5%8C%96/hexo%E5%A2%9E%E5%8A%A0%E5%B0%8F%E5%AE%A2%E6%9C%8D%E5%8A%9F%E8%83%BD/" title="hexo增加小客服功能">hexo增加小客服功能</a><time datetime="2022-03-07T07:38:42.000Z" title="发表于 2022-03-07 15:38:42">2022-03-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/07/hexo%E7%BE%8E%E5%8C%96/hexo%E5%A2%9E%E5%8A%A0%E6%A8%B1%E8%8A%B1%E9%A3%98%E8%90%BD%E8%83%8C%E6%99%AF/" title="hexo增加樱花飘落背景"><img src="https://s4.ax1x.com/2022/01/02/Toe4Qx.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo增加樱花飘落背景"/></a><div class="content"><a class="title" href="/2022/03/07/hexo%E7%BE%8E%E5%8C%96/hexo%E5%A2%9E%E5%8A%A0%E6%A8%B1%E8%8A%B1%E9%A3%98%E8%90%BD%E8%83%8C%E6%99%AF/" title="hexo增加樱花飘落背景">hexo增加樱花飘落背景</a><time datetime="2022-03-07T07:32:46.000Z" title="发表于 2022-03-07 15:32:46">2022-03-07</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://s4.ax1x.com/2022/02/16/Hf2gxJ.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2022 By 沅浅</div><div class="footer_custom_text"><p><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a><a style="margin-inline:5px" target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a><a style="margin-inline:5px" target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a><a style="margin-inline:5px" target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a><a style="margin-inline:5px" target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Github托管"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="李,静,雯,我,喜,欢,你" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>